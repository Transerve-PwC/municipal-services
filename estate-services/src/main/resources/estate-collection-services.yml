serviceMaps:
  serviceName: estate-collection-service
  mappings:
    - version: 1.0
      description: Persists Properties details in cs_ep_collection table
      fromTopic: save-estate-collection
      isTransaction: true
      queryMaps:
      - query: INSERT INTO cs_ep_collection(id, demand_id, interest_collected, principal_collected, collectedAt, created_by, modified_by, created_date, modified_date) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) ON CONFLICT (id) DO UPDATE SET interest_collected=?, principal_collected=?, modified_by=?, modified_date=?;
        basePath: Properties.*.rentCollections.*
        jsonMaps:
              - jsonPath: $.Properties.*.rentCollections.*.id
              
              - jsonPath: $.Properties.*.rentCollections.*.demandId
        
              - jsonPath: $.Properties.*.rentCollections.*.interestCollected
        
              - jsonPath: $.Properties.*.rentCollections.*.principalCollected
              
              - jsonPath: $.Properties.*.rentCollections.*.collectedAt
        
              - jsonPath: $.Properties.*.rentCollections.*.auditDetails.createdBy
        
              - jsonPath: $.Properties.*.rentCollections.*.auditDetails.lastModifiedBy
        
              - jsonPath: $.Properties.*.rentCollections.*.auditDetails.createdTime
        
              - jsonPath: $.Properties.*.rentCollections.*.auditDetails.lastModifiedTime  
              
              - jsonPath: $.Properties.*.rentCollections.*.interestCollected
        
              - jsonPath: $.Properties.*.rentCollections.*.principalCollected
        
              - jsonPath: $.Properties.*.rentCollections.*.auditDetails.lastModifiedBy
        
              - jsonPath: $.Properties.*.rentCollections.*.auditDetails.lastModifiedTime  